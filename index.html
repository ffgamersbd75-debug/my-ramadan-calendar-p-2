<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡¶°‡¶ø‡¶ú‡¶ø‡¶ü‡¶æ‡¶≤ ‡¶∞‡¶Æ‡¶ú‡¶æ‡¶® ‡¶ï‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞ ‡ß®‡ß¶‡ß®‡ß¨ - ‡¶Æ‡¶ø‡¶∞‡ßç‡¶ú‡¶æ‡¶ó‡¶û‡ßç‡¶ú ‡¶â‡¶™‡¶ú‡ßá‡¶≤‡¶æ ‡¶∏‡ßç‡¶ü‡ßÅ‡¶°‡ßá‡¶®‡ßç‡¶ü‡¶∏ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶∏‡ßã‡¶∏‡¶ø‡ßü‡ßá‡¶∂‡¶®</title>
    <link href="https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Hind Siliguri', sans-serif; background-color: #f0fdf4; margin: 0; padding: 15px; display: flex; flex-direction: column; align-items: center; min-height: 100vh; }
        .container { background: white; padding: 20px; border-radius: 15px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); max-width: 450px; width: 100%; border: 2px solid #16a34a; box-sizing: border-box; }
        .district-selector { margin-bottom: 20px; text-align: left; }
        label { display: block; margin-bottom: 5px; color: #166534; font-weight: 600; }
        select { width: 100%; padding: 12px; border-radius: 10px; border: 2px solid #86efac; font-family: 'Hind Siliguri'; font-size: 1.1rem; color: #15803d; outline: none; }
        .header-info { display: flex; justify-content: space-between; background: #dcfce7; padding: 12px; border-radius: 10px; margin-bottom: 20px; color: #166534; font-weight: 700; font-size: 1.1rem; }
        h1 { color: #16a34a; margin: 0 0 20px 0; font-size: 1.7rem; font-weight: 700; }
        .time-row { display: flex; justify-content: space-between; gap: 10px; margin-bottom: 20px; }
        .time-card { background: #f0fdf4; padding: 15px 5px; border-radius: 12px; border: 1px solid #86efac; width: 48%; display: flex; flex-direction: column; align-items: center; }
        .time-label { font-size: 1.1rem; color: #555; margin-bottom: 5px; }
        .time-value { font-size: 2rem; font-weight: 700; color: #15803d; }
        .countdown { background: #166534; color: white; padding: 20px; border-radius: 12px; margin-bottom: 20px; }
        .message { font-size: 1.1rem; margin-bottom: 8px; opacity: 0.9; }
        .countdown-timer { font-size: 2.6rem; font-weight: 700; font-family: monospace; }
        .logo-container { margin-top: 10px; display: flex; flex-direction: column; align-items: center; }
        .association-logo { width: 90px; height: 90px; border-radius: 50%; border: 2px solid #16a34a; margin-bottom: 10px; }
        .association-name { font-size: 1.2rem; color: #166534; font-weight: 700; line-height: 1.4; }
        footer { margin-top: 20px; font-size: 0.8rem; color: #888; }
    </style>
</head>
<body>

<div class="container">
    <div class="district-selector">
        <label for="districtSelect">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ú‡ßá‡¶≤‡¶æ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®:</label>
        <select id="districtSelect" onchange="changeDistrict()"></select>
    </div>

    <div class="header-info">
        <span id="displayDate">‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ ‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</span>
        <span id="ramadanNo">-- ‡¶∞‡¶Æ‡¶ú‡¶æ‡¶®</span>
    </div>

    <h1 id="districtTitle">üåô ‡¶∏‡¶Æ‡ßü‡¶∏‡ßÇ‡¶ö‡ßÄ</h1>

    <div class="time-row">
        <div class="time-card">
            <div class="time-label">‡¶∏‡¶æ‡¶π‡¶∞‡ßÄ‡¶∞ ‡¶∂‡ßá‡¶∑</div>
            <div class="time-value" id="sahriTime">--:--</div>
        </div>
        <div class="time-card">
            <div class="time-label">‡¶á‡¶´‡¶§‡¶æ‡¶∞</div>
            <div class="time-value" id="iftarTime">--:--</div>
        </div>
    </div>

    <div class="countdown">
        <div class="message" id="statusMsg">‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®...</div>
        <div class="countdown-timer" id="timer">‡ß¶‡ß¶:‡ß¶‡ß¶:‡ß¶‡ß¶</div>
    </div>

    <div class="logo-container">
        <img src="logo.jpg.png" alt="Logo" class="association-logo">
        <div class="association-name">‡¶Æ‡¶ø‡¶∞‡ßç‡¶ú‡¶æ‡¶ó‡¶û‡ßç‡¶ú ‡¶â‡¶™‡¶ú‡ßá‡¶≤‡¶æ ‡¶∏‡ßç‡¶ü‡ßÅ‡¶°‡ßá‡¶®‡ßç‡¶ü‡¶∏ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶∏‡ßã‡¶∏‡¶ø‡¶Ø‡¶º‡ßá‡¶∂‡¶®, ‡¶¨‡¶∞‡¶ø‡¶∂‡¶æ‡¶≤</div>
    </div>
    
    <footer>‡¶∏‡ßã‡¶∞‡ßç‡¶∏: ‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ‡¶ø‡¶ï ‡¶´‡¶æ‡¶â‡¶®‡ßç‡¶°‡ßá‡¶∂‡¶® (‡¶™‡¶ü‡ßÅ‡ßü‡¶æ‡¶ñ‡¶æ‡¶≤‡ßÄ ‡¶ú‡ßá‡¶≤‡¶æ ‡¶Ö‡¶®‡ßÅ‡¶Ø‡¶æ‡ßü‡ßÄ ‡¶∏‡¶Æ‡¶®‡ßç‡¶¨‡¶ø‡¶§)</footer>
</div>

<script>
    // ‡¶¢‡¶æ‡¶ï‡¶æ ‡¶≠‡¶ø‡¶§‡ßç‡¶§‡¶ø‡¶ï ‡¶Æ‡ßÇ‡¶≤ ‡¶∏‡¶Æ‡ßü‡¶∏‡ßÇ‡¶ö‡ßÄ ‡ß®‡ß¶‡ß®‡ß¨ (‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ‡¶ø‡¶ï ‡¶´‡¶æ‡¶â‡¶®‡ßç‡¶°‡ßá‡¶∂‡¶® ‡¶§‡¶•‡ßç‡¶Ø ‡¶Ö‡¶®‡ßÅ‡¶Ø‡¶æ‡ßü‡ßÄ)
    const baseSchedule = [
        { d: "2026-02-19", s: "05:07", i: "05:56" }, { d: "2026-02-20", s: "05:06", i: "05:57" },
        { d: "2026-02-21", s: "05:05", i: "05:57" }, { d: "2026-02-22", s: "05:04", i: "05:58" },
        { d: "2026-02-23", s: "05:03", i: "05:58" }, { d: "2026-02-24", s: "05:02", i: "05:59" },
        { d: "2026-02-25", s: "05:02", i: "05:59" }, { d: "2026-02-26", s: "05:01", i: "06:00" },
        { d: "2026-02-27", s: "05:00", i: "06:00" }, { d: "2026-02-28", s: "04:59", i: "06:01" },
        { d: "2026-03-01", s: "04:58", i: "06:01" }, { d: "2026-03-02", s: "04:57", i: "06:02" },
        { d: "2026-03-03", s: "04:56", i: "06:02" }, { d: "2026-03-04", s: "04:55", i: "06:03" },
        { d: "2026-03-05", s: "04:54", i: "06:03" }, { d: "2026-03-06", s: "04:53", i: "06:04" },
        { d: "2026-03-07", s: "04:52", i: "06:04" }, { d: "2026-03-08", s: "04:51", i: "06:05" },
        { d: "2026-03-09", s: "04:50", i: "06:05" }, { d: "2026-03-10", s: "04:49", i: "06:06" },
        { d: "2026-03-11", s: "04:48", i: "06:06" }, { d: "2026-03-12", s: "04:47", i: "06:07" },
        { d: "2026-03-13", s: "04:46", i: "06:07" }, { d: "2026-03-14", s: "04:45", i: "06:08" },
        { d: "2026-03-15", s: "04:44", i: "06:08" }, { d: "2026-03-16", s: "04:43", i: "06:09" },
        { d: "2026-03-17", s: "04:42", i: "06:09" }, { d: "2026-03-18", s: "04:41", i: "06:10" },
        { d: "2026-03-19", s: "04:40", i: "06:10" }, { d: "2026-03-20", s: "04:39", i: "06:11" }
    ];

    // ‡¶ú‡ßá‡¶≤‡¶æ‡¶≠‡¶ø‡¶§‡ßç‡¶§‡¶ø‡¶ï ‡¶∏‡¶Æ‡ßü‡ßá‡¶∞ ‡¶™‡¶æ‡¶∞‡ßç‡¶•‡¶ï‡ßç‡¶Ø (‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü)
    const districtData = [
        { n: "‡¶™‡¶ü‡ßÅ‡ßü‡¶æ‡¶ñ‡¶æ‡¶≤‡ßÄ", s: 4, i: 3 }, { n: "‡¶¨‡¶∞‡¶ø‡¶∂‡¶æ‡¶≤", s: 3, i: 2 }, { n: "‡¶¢‡¶æ‡¶ï‡¶æ", s: 0, i: 0 },
        { n: "‡¶≠‡ßã‡¶≤‡¶æ", s: 2, i: 0 }, { n: "‡¶™‡¶ø‡¶∞‡ßã‡¶ú‡¶™‡ßÅ‡¶∞", s: 4, i: 3 }, { n: "‡¶¨‡¶∞‡¶ó‡ßÅ‡¶®‡¶æ", s: 5, i: 4 },
        { n: "‡¶ù‡¶æ‡¶≤‡¶ï‡¶æ‡¶†‡¶ø", s: 3, i: 2 }, { n: "‡¶ö‡¶ü‡ßç‡¶ü‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ", s: -5, i: -9 }, { n: "‡¶∞‡¶æ‡¶ú‡¶∂‡¶æ‡¶π‡ßÄ", s: 7, i: 6 },
        { n: "‡¶∏‡¶ø‡¶≤‡ßá‡¶ü", s: -7, i: -10 }, { n: "‡¶ñ‡ßÅ‡¶≤‡¶®‡¶æ", s: 5, i: 4 }, { n: "‡¶∞‡¶Ç‡¶™‡ßÅ‡¶∞", s: 3, i: 1 }
        // ‡¶Ü‡¶™‡¶®‡¶ø ‡¶ö‡¶æ‡¶á‡¶≤‡ßá ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶¨‡¶æ‡¶ï‡¶ø ‡¶ú‡ßá‡¶≤‡¶æ‡¶ó‡ßÅ‡¶≤‡ßã ‡¶è‡¶ï‡¶á ‡¶®‡¶ø‡ßü‡¶Æ‡ßá ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡¶®
    ];

    function toBangla(n) { return n.toString().replace(/\d/g, d => "‡ß¶‡ßß‡ß®‡ß©‡ß™‡ß´‡ß¨‡ß≠‡ßÆ‡ßØ"[d]); }

    const select = document.getElementById('districtSelect');
    districtData.forEach(d => {
        let opt = document.createElement('option');
        opt.value = d.n; opt.innerText = d.n;
        select.appendChild(opt);
    });

    // LocalStorage ‡¶•‡ßá‡¶ï‡ßá ‡¶ú‡ßá‡¶≤‡¶æ ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶æ
    let currentDist = localStorage.getItem('userDistrict') || "‡¶™‡¶ü‡ßÅ‡ßü‡¶æ‡¶ñ‡¶æ‡¶≤‡ßÄ";
    select.value = currentDist;

    function changeDistrict() {
        currentDist = select.value;
        localStorage.setItem('userDistrict', currentDist);
        update();
    }

    function addMins(timeStr, mins) {
        let [h, m] = timeStr.split(':').map(Number);
        let d = new Date(0,0,0, h, m + mins);
        return String(d.getHours()).padStart(2, '0') + ":" + String(d.getMinutes()).padStart(2, '0');
    }

    function update() {
        const now = new Date();
        const todayStr = now.getFullYear() + "-" + String(now.getMonth()+1).padStart(2,'0') + "-" + String(now.getDate()).padStart(2,'0');
        const dist = districtData.find(d => d.n === currentDist);
        
        let idx = baseSchedule.findIndex(item => item.d === todayStr);
        if (idx === -1) idx = todayStr < baseSchedule[0].d ? 0 : baseSchedule.length;

        if (idx < baseSchedule.length) {
            const data = baseSchedule[idx];
            const sTimeStr = addMins(data.s, dist.s);
            const iTimeStr = addMins(data.i, dist.i);

            document.getElementById('ramadanNo').innerText = toBangla(idx + 1) + " ‡¶∞‡¶Æ‡¶ú‡¶æ‡¶®";
            document.getElementById('displayDate').innerText = toBangla(data.d.split('-')[2]) + (data.d.includes('-02-') ? " ‡¶´‡ßá‡¶¨‡ßç‡¶∞‡ßÅ‡ßü‡¶æ‡¶∞‡¶ø" : " ‡¶Æ‡¶æ‡¶∞‡ßç‡¶ö");
            document.getElementById('districtTitle').innerText = "üåô " + currentDist + " ‡¶ú‡ßá‡¶≤‡¶æ";
            document.getElementById('sahriTime').innerText = toBangla(sTimeStr);
            document.getElementById('iftarTime').innerText = toBangla(iTimeStr);

            const [sh, sm] = sTimeStr.split(':').map(Number);
            const [ih, im] = iTimeStr.split(':').map(Number);
            const sFull = new Date(now.getFullYear(), now.getMonth(), now.getDate(), sh, sm);
            const iFull = new Date(now.getFullYear(), now.getMonth(), now.getDate(), ih+12, im);

            let target = now < sFull ? sFull : (now < iFull ? iFull : null);
            document.getElementById('statusMsg').innerText = now < sFull ? "‡¶∏‡¶æ‡¶π‡¶∞‡ßÄ‡¶∞ ‡¶∂‡ßá‡¶∑ ‡¶∏‡¶Æ‡ßü‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ï‡¶ø" : (now < iFull ? "‡¶á‡¶´‡¶§‡¶æ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ï‡¶ø" : "‡¶™‡¶∞‡¶¨‡¶∞‡ßç‡¶§‡ßÄ ‡¶∏‡¶Æ‡ßü‡ßá‡¶∞ ‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶æ...");

            if (target) {
                const diff = target - now;
                const h = Math.floor(diff/3600000);
                const m = Math.floor((diff%3600000)/60000);
                const s = Math.floor((diff%60000)/1000);
                document.getElementById('timer').innerText = toBangla(String(h).padStart(2,'0')+":"+String(m).padStart(2,'0')+":"+String(s).padStart(2,'0'));
            } else {
                document.getElementById('timer').innerText = "‡ß¶‡ß¶:‡ß¶‡ß¶:‡ß¶‡ß¶";
            }
        }
    }

    setInterval(update, 1000); update();
</script>
</body>
</html>
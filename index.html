<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡¶°‡¶ø‡¶ú‡¶ø‡¶ü‡¶æ‡¶≤ ‡¶∞‡¶Æ‡¶ú‡¶æ‡¶® ‡¶ï‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞ ‡ß®‡ß¶‡ß®‡ß¨</title>
    <link href="https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Hind Siliguri', sans-serif; background-color: #f0fdf4; margin: 0; padding: 15px; display: flex; flex-direction: column; align-items: center; min-height: 100vh; }
        .container { background: white; padding: 20px; border-radius: 15px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); max-width: 450px; width: 100%; border: 2px solid #16a34a; box-sizing: border-box; }
        .district-selector { margin-bottom: 20px; text-align: left; }
        label { display: block; margin-bottom: 5px; color: #166534; font-weight: 600; }
        select { width: 100%; padding: 12px; border-radius: 10px; border: 2px solid #86efac; font-family: 'Hind Siliguri'; font-size: 1.1rem; color: #15803d; outline: none; }
        .header-info { display: flex; justify-content: space-between; background: #dcfce7; padding: 12px; border-radius: 10px; margin-bottom: 20px; color: #166534; font-weight: 700; font-size: 1.1rem; }
        h1 { color: #16a34a; margin: 0 0 20px 0; font-size: 1.7rem; font-weight: 700; text-align: center; }
        .time-row { display: flex; justify-content: space-between; gap: 10px; margin-bottom: 20px; }
        .time-card { background: #f0fdf4; padding: 15px 5px; border-radius: 12px; border: 1px solid #86efac; width: 48%; display: flex; flex-direction: column; align-items: center; }
        .time-label { font-size: 1.1rem; color: #555; margin-bottom: 5px; }
        .time-value { font-size: 2rem; font-weight: 700; color: #15803d; }
        .countdown { background: #166534; color: white; padding: 20px; border-radius: 12px; margin-bottom: 20px; text-align: center; }
        .message { font-size: 1.1rem; margin-bottom: 8px; opacity: 0.9; }
        .countdown-timer { font-size: 2.6rem; font-weight: 700; font-family: monospace; letter-spacing: 1px; }
        .logo-container { margin-top: 10px; display: flex; flex-direction: column; align-items: center; text-align: center; width: 100%; }
        .association-logo { width: 90px; height: 90px; border-radius: 50%; border: 2px solid #16a34a; margin-bottom: 10px; object-fit: cover; }
        .association-name { font-size: 1.25rem; color: #166534; font-weight: 700; line-height: 1.4; width: 100%; text-align: center; display: block; }
        footer { font-size: 0.8rem; color: #666; margin-top: 15px; text-align: center; }
    </style>
</head>
<body>

<div class="container">
    <div class="district-selector">
        <label for="districtSelect">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ú‡ßá‡¶≤‡¶æ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®:</label>
        <select id="districtSelect" onchange="changeDistrict()"></select>
    </div>

    <div class="header-info">
        <span id="displayDate">--</span>
        <span id="ramadanNo">-- ‡¶∞‡¶Æ‡¶ú‡¶æ‡¶®</span>
    </div>

    <h1 id="districtTitle">üåô ‡¶∏‡¶Æ‡ßü‡¶∏‡ßÇ‡¶ö‡ßÄ</h1>

    <div class="time-row">
        <div class="time-card">
            <div class="time-label">‡¶∏‡¶æ‡¶π‡¶∞‡ßÄ‡¶∞ ‡¶∂‡ßá‡¶∑</div>
            <div class="time-value" id="sahriTime">--:--</div>
        </div>
        <div class="time-card">
            <div class="time-label">‡¶á‡¶´‡¶§‡¶æ‡¶∞</div>
            <div class="time-value" id="iftarTime">--:--</div>
        </div>
    </div>

    <div class="countdown">
        <div class="message" id="statusMsg">‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®...</div>
        <div class="countdown-timer" id="timer">‡ß¶‡ß¶:‡ß¶‡ß¶:‡ß¶‡ß¶</div>
    </div>

    <div class="logo-container">
        <img src="logo.jpg.png" alt="Logo" class="association-logo">
        <div class="association-name">‡¶Æ‡¶ø‡¶∞‡ßç‡¶ú‡¶æ‡¶ó‡¶û‡ßç‡¶ú ‡¶â‡¶™‡¶ú‡ßá‡¶≤‡¶æ ‡¶∏‡ßç‡¶ü‡ßÅ‡¶°‡ßá‡¶®‡ßç‡¶ü‡¶∏ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶∏‡ßã‡¶∏‡¶ø‡¶Ø‡¶º‡ßá‡¶∂‡¶®, ‡¶¨‡¶∞‡¶ø‡¶∂‡¶æ‡¶≤</div>
    </div>
    <footer>‡¶∏‡ßã‡¶∞‡ßç‡¶∏: ‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ‡¶ø‡¶ï ‡¶´‡¶æ‡¶â‡¶®‡ßç‡¶°‡ßá‡¶∂‡¶®</footer>
</div>

<script>
    var ramadanSchedule = [
        { d: "2026-02-19", s: "05:07", i: "17:56" }, { d: "2026-02-20", s: "05:06", i: "17:57" },
        { d: "2026-02-21", s: "05:05", i: "17:57" }, { d: "2026-02-22", s: "05:04", i: "17:58" },
        { d: "2026-02-23", s: "05:03", i: "17:58" }, { d: "2026-02-24", s: "05:02", i: "17:59" },
        { d: "2026-02-25", s: "05:02", i: "17:59" }, { d: "2026-02-26", s: "05:01", i: "18:00" },
        { d: "2026-02-27", s: "05:00", i: "18:00" }, { d: "2026-02-28", s: "04:59", i: "18:01" },
        { d: "2026-03-01", s: "04:58", i: "18:01" }, { d: "2026-03-02", s: "04:57", i: "18:02" },
        { d: "2026-03-03", s: "04:56", i: "18:02" }, { d: "2026-03-04", s: "04:55", i: "18:03" },
        { d: "2026-03-05", s: "04:54", i: "18:03" }, { d: "2026-03-06", s: "04:53", i: "18:04" },
        { d: "2026-03-07", s: "04:52", i: "18:04" }, { d: "2026-03-08", s: "04:51", i: "18:05" },
        { d: "2026-03-09", s: "04:50", i: "18:05" }, { d: "2026-03-10", s: "04:49", i: "18:06" }
    ];

    var districtData = [
        { n: "‡¶™‡¶ü‡ßÅ‡ßü‡¶æ‡¶ñ‡¶æ‡¶≤‡ßÄ", s: 4, i: 3 }, { n: "‡¶¨‡¶∞‡¶ø‡¶∂‡¶æ‡¶≤", s: 3, i: 2 }, { n: "‡¶¢‡¶æ‡¶ï‡¶æ", s: 0, i: 0 },
        { n: "‡¶≠‡ßã‡¶≤‡¶æ", s: 2, i: 0 }, { n: "‡¶™‡¶ø‡¶∞‡ßã‡¶ú‡¶™‡ßÅ‡¶∞", s: 4, i: 3 }, { n: "‡¶¨‡¶∞‡¶ó‡ßÅ‡¶®‡¶æ", s: 5, i: 4 },
        { n: "‡¶ù‡¶æ‡¶≤‡¶ï‡¶æ‡¶†‡¶ø", s: 3, i: 2 }, { n: "‡¶ö‡¶ü‡ßç‡¶ü‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ", s: -5, i: -9 }, { n: "‡¶∞‡¶æ‡¶ú‡¶∂‡¶æ‡¶π‡ßÄ", s: 7, i: 6 },
        { n: "‡¶∏‡¶ø‡¶≤‡ßá‡¶ü", s: -7, i: -10 }, { n: "‡¶ñ‡ßÅ‡¶≤‡¶®‡¶æ", s: 5, i: 4 }, { n: "‡¶∞‡¶Ç‡¶™‡ßÅ‡¶∞", s: 3, i: 1 },
        { n: "‡¶ó‡¶æ‡¶ú‡ßÄ‡¶™‡ßÅ‡¶∞", s: 0, i: 0 }, { n: "‡¶Æ‡¶æ‡¶®‡¶ø‡¶ï‡¶ó‡¶û‡ßç‡¶ú", s: 1, i: 2 }, { n: "‡¶Æ‡ßÅ‡¶®‡ßç‡¶∏‡ßÄ‡¶ó‡¶û‡ßç‡¶ú", s: 0, i: 1 },
        { n: "‡¶®‡¶æ‡¶∞‡¶æ‡ßü‡¶£‡¶ó‡¶û‡ßç‡¶ú", s: -1, i: 0 }, { n: "‡¶®‡¶∞‡¶∏‡¶ø‡¶Ç‡¶¶‡ßÄ", s: -2, i: -1 }, { n: "‡¶ü‡¶æ‡¶ô‡ßç‡¶ó‡¶æ‡¶á‡¶≤", s: 2, i: 1 },
        { n: "‡¶´‡¶∞‡¶ø‡¶¶‡¶™‡ßÅ‡¶∞", s: 2, i: 3 }, { n: "‡¶ó‡ßã‡¶™‡¶æ‡¶≤‡¶ó‡¶û‡ßç‡¶ú", s: 3, i: 3 }, { n: "‡¶Æ‡¶æ‡¶¶‡¶æ‡¶∞‡ßÄ‡¶™‡ßÅ‡¶∞", s: 2, i: 2 },
        { n: "‡¶∞‡¶æ‡¶ú‡¶¨‡¶æ‡ßú‡ßÄ", s: 2, i: 3 }, { n: "‡¶∂‡¶∞‡ßÄ‡ßü‡¶§‡¶™‡ßÅ‡¶∞", s: 1, i: 1 }, { n: "‡¶Æ‡ßü‡¶Æ‡¶®‡¶∏‡¶ø‡¶Ç‡¶π", s: 0, i: -1 },
        { n: "‡¶ú‡¶æ‡¶Æ‡¶æ‡¶≤‡¶™‡ßÅ‡¶∞", s: 3, i: 0 }, { n: "‡¶®‡ßá‡¶§‡ßç‡¶∞‡¶ï‡ßã‡¶®‡¶æ", s: -1, i: -3 }, { n: "‡¶∂‡ßá‡¶∞‡¶™‡ßÅ‡¶∞", s: 2, i: -1 },
        { n: "‡¶ï‡¶ï‡ßç‡¶∏‡¶¨‡¶æ‡¶ú‡¶æ‡¶∞", s: -5, i: -10 }, { n: "‡¶¨‡ßç‡¶∞‡¶æ‡¶π‡ßç‡¶Æ‡¶£‡¶¨‡¶æ‡ßú‡¶ø‡ßü‡¶æ", s: -3, i: -3 }, { n: "‡¶ö‡¶æ‡¶Å‡¶¶‡¶™‡ßÅ‡¶∞", s: 0, i: -1 },
        { n: "‡¶ï‡ßÅ‡¶Æ‡¶ø‡¶≤‡ßç‡¶≤‡¶æ", s: -2, i: -3 }, { n: "‡¶≤‡¶ï‡ßç‡¶∑‡ßç‡¶Æ‡ßÄ‡¶™‡ßÅ‡¶∞", s: 1, i: -1 }, { n: "‡¶®‡ßã‡ßü‡¶æ‡¶ñ‡¶æ‡¶≤‡ßÄ", s: 0, i: -2 },
        { n: "‡¶´‡ßá‡¶®‡ßÄ", s: -2, i: -4 }, { n: "‡¶ñ‡¶æ‡¶ó‡ßú‡¶æ‡¶õ‡ßú‡¶ø", s: -4, i: -8 }, { n: "‡¶∞‡¶æ‡¶ô‡ßç‡¶ó‡¶æ‡¶Æ‡¶æ‡¶ü‡¶ø", s: -4, i: -9 },
        { n: "‡¶¨‡¶æ‡¶®‡ßç‡¶¶‡¶∞‡¶¨‡¶æ‡¶®", s: -4, i: -10 }, { n: "‡¶∏‡¶ø‡¶∞‡¶æ‡¶ú‡¶ó‡¶û‡ßç‡¶ú", s: 3, i: 2 }, { n: "‡¶™‡¶æ‡¶¨‡¶®‡¶æ", s: 5, i: 4 },
        { n: "‡¶¨‡¶ó‡ßÅ‡ßú‡¶æ", s: 3, i: 1 }, { n: "‡¶ú‡ßü‡¶™‡ßÅ‡¶∞‡¶π‡¶æ‡¶ü", s: 4, i: 2 }, { n: "‡¶®‡¶ì‡¶ó‡¶æ‡¶Å", s: 6, i: 4 },
        { n: "‡¶®‡¶æ‡¶ü‡ßã‡¶∞", s: 5, i: 4 }, { n: "‡¶ö‡¶æ‡¶Å‡¶™‡¶æ‡¶á‡¶®‡¶¨‡¶æ‡¶¨‡¶ó‡¶û‡ßç‡¶ú", s: 9, i: 7 }, { n: "‡¶¶‡¶ø‡¶®‡¶æ‡¶ú‡¶™‡ßÅ‡¶∞", s: 6, i: 2 },
        { n: "‡¶ó‡¶æ‡¶á‡¶¨‡¶æ‡¶®‡ßç‡¶ß‡¶æ", s: 3, i: 0 }, { n: "‡¶ï‡ßÅ‡ßú‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ", s: 1, i: -2 }, { n: "‡¶≤‡¶æ‡¶≤‡¶Æ‡¶®‡¶ø‡¶∞‡¶π‡¶æ‡¶ü", s: 2, i: -1 },
        { n: "‡¶®‡ßÄ‡¶≤‡¶´‡¶æ‡¶Æ‡¶æ‡¶∞‡ßÄ", s: 5, i: 1 }, { n: "‡¶™‡¶û‡ßç‡¶ö‡¶ó‡ßú", s: 7, i: 2 }, { n: "‡¶†‡¶æ‡¶ï‡ßÅ‡¶∞‡¶ó‡¶æ‡¶Å‡¶ì", s: 8, i: 3 },
        { n: "‡¶¨‡¶æ‡¶ó‡ßá‡¶∞‡¶π‡¶æ‡¶ü", s: 5, i: 3 }, { n: "‡¶ö‡ßÅ‡ßü‡¶æ‡¶°‡¶æ‡¶ô‡ßç‡¶ó‡¶æ", s: 7, i: 7 }, { n: "‡¶Ø‡¶∂‡ßã‡¶∞", s: 6, i: 6 },
        { n: "‡¶ù‡¶ø‡¶®‡¶æ‡¶á‡¶¶‡¶π", s: 6, i: 5 }, { n: "‡¶ï‡ßÅ‡¶∑‡ßç‡¶ü‡¶ø‡ßü‡¶æ", s: 5, i: 5 }, { n: "‡¶Æ‡¶æ‡¶ó‡ßÅ‡¶∞‡¶æ", s: 4, i: 4 },
        { n: "‡¶Æ‡ßá‡¶π‡ßá‡¶∞‡¶™‡ßÅ‡¶∞", s: 8, i: 7 }, { n: "‡¶®‡ßú‡¶æ‡¶á‡¶≤", s: 5, i: 4 }, { n: "‡¶∏‡¶æ‡¶§‡¶ï‡ßç‡¶∑‡ßÄ‡¶∞‡¶æ", s: 7, i: 5 },
        { n: "‡¶π‡¶¨‡¶ø‡¶ó‡¶û‡ßç‡¶ú", s: -5, i: -7 }, { n: "‡¶Æ‡ßå‡¶≤‡¶≠‡ßÄ‡¶¨‡¶æ‡¶ú‡¶æ‡¶∞", s: -6, i: -9 }, { n: "‡¶∏‡ßÅ‡¶®‡¶æ‡¶Æ‡¶ó‡¶û‡ßç‡¶ú", s: -5, i: -7 }
    ];

    function toBangla(n) {
        var engStr = n.toString();
        var bnDigits = "‡ß¶‡ßß‡ß®‡ß©‡ß™‡ß´‡ß¨‡ß≠‡ßÆ‡ßØ";
        var bnStr = "";
        for(var i=0; i<engStr.length; i++) {
            var ch = engStr.charAt(i);
            if(ch >= '0' && ch <= '9') { bnStr += bnDigits[parseInt(ch, 10)]; } 
            else { bnStr += ch; }
        }
        return bnStr;
    }

    function padZero(num) {
        return num < 10 ? "0" + num : num;
    }

    var select = document.getElementById('districtSelect');
    for(var i=0; i<districtData.length; i++) {
        var opt = document.createElement('option');
        opt.value = districtData[i].n;
        opt.innerText = districtData[i].n;
        select.appendChild(opt);
    }

    var currentDist = "‡¶™‡¶ü‡ßÅ‡ßü‡¶æ‡¶ñ‡¶æ‡¶≤‡ßÄ";
    try {
        if(localStorage.getItem('userDistrict')) { currentDist = localStorage.getItem('userDistrict'); }
    } catch(e) {}
    select.value = currentDist;

    function changeDistrict() {
        currentDist = select.value;
        try { localStorage.setItem('userDistrict', currentDist); } catch(e) {}
        update();
    }

    function addMins(timeStr, mins) {
        var parts = timeStr.split(':');
        var h = parseInt(parts[0], 10);
        var m = parseInt(parts[1], 10);
        m += mins;
        while(m >= 60) { h++; m -= 60; }
        while(m < 0) { h--; m += 60; }
        return padZero(h) + ":" + padZero(m);
    }

    function update() {
        var now = new Date();
        var year = now.getFullYear();
        var month = padZero(now.getMonth() + 1);
        var day = padZero(now.getDate());
        var todayStr = year + "-" + month + "-" + day;
        
        var dist = districtData[0];
        for(var i=0; i<districtData.length; i++) {
            if(districtData[i].n === currentDist) { dist = districtData[i]; break; }
        }

        var idx = -1;
        for(var j=0; j<ramadanSchedule.length; j++) {
            if(ramadanSchedule[j].d === todayStr) { idx = j; break; }
        }

        if (idx === -1) {
            if (todayStr < ramadanSchedule[0].d) { idx = 0; }
            else { 
                document.getElementById('ramadanNo').innerText = "‡¶à‡¶¶ ‡¶Æ‡ßã‡¶¨‡¶æ‡¶∞‡¶ï";
                document.getElementById('statusMsg').innerText = "‡¶∞‡¶Æ‡¶ú‡¶æ‡¶® ‡¶∏‡¶Æ‡¶æ‡¶™‡ßç‡¶§‡•§";
                document.getElementById('timer').innerText = "‡ß¶‡ß¶:‡ß¶‡ß¶:‡ß¶‡ß¶";
                return;
            }
        }

        var data = ramadanSchedule[idx];
        var sahriStr = addMins(data.s, dist.s);
        var iftarStr = addMins(data.i, dist.i);

        var dateParts = data.d.split('-');
        var monthName = data.d.indexOf("-02-") !== -1 ? " ‡¶´‡ßá‡¶¨‡ßç‡¶∞‡ßÅ‡ßü‡¶æ‡¶∞‡¶ø" : " ‡¶Æ‡¶æ‡¶∞‡ßç‡¶ö";
        document.getElementById('displayDate').innerText = toBangla(dateParts[2]) + monthName;
        document.getElementById('ramadanNo').innerText = toBangla(idx + 1) + " ‡¶∞‡¶Æ‡¶ú‡¶æ‡¶®";
        document.getElementById('districtTitle').innerText = "üåô " + currentDist + " ‡¶ú‡ßá‡¶≤‡¶æ";
        document.getElementById('sahriTime').innerText = toBangla(sahriStr);
        
        var iftarParts = iftarStr.split(':');
        var ih = parseInt(iftarParts[0], 10);
        var im = parseInt(iftarParts[1], 10);
        var displayIh = ih > 12 ? ih - 12 : ih;
        document.getElementById('iftarTime').innerText = toBangla(displayIh + ":" + padZero(im));

        var currentSec = (now.getHours() * 3600) + (now.getMinutes() * 60) + now.getSeconds();
        var sParts = sahriStr.split(':');
        var sahriSec = (parseInt(sParts[0], 10) * 3600) + (parseInt(sParts[1], 10) * 60);
        var iParts = iftarStr.split(':');
        var iftarSec = (parseInt(iParts[0], 10) * 3600) + (parseInt(iParts[1], 10) * 60);

        var diff = 0;
        var msg = "";
        
        if (currentSec < sahriSec) {
            diff = sahriSec - currentSec; 
            msg = "‡¶∏‡¶æ‡¶π‡¶∞‡ßÄ‡¶∞ ‡¶∂‡ßá‡¶∑ ‡¶∏‡¶Æ‡ßü‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ï‡¶ø";
        } else if (currentSec < iftarSec) {
            diff = iftarSec - currentSec; 
            msg = "‡¶á‡¶´‡¶§‡¶æ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ï‡¶ø";
        } else {
            if (idx + 1 < ramadanSchedule.length) {
                var nextData = ramadanSchedule[idx + 1];
                var nSahri = addMins(nextData.s, dist.s);
                var nsParts = nSahri.split(':');
                var nSahriSec = (parseInt(nsParts[0], 10) * 3600) + (parseInt(nsParts[1], 10) * 60);
                diff = (86400 - currentSec) + nSahriSec;
                msg = "‡¶Ü‡¶ó‡¶æ‡¶Æ‡ßÄ‡¶ï‡¶æ‡¶≤ ‡¶∏‡¶æ‡¶π‡¶∞‡ßÄ‡¶∞ ‡¶¨‡¶æ‡¶ï‡¶ø";
            } else { 
                diff = 0; 
                msg = "‡¶Æ‡¶æ‡¶π‡ßá ‡¶∞‡¶Æ‡¶ú‡¶æ‡¶® ‡¶∏‡¶Æ‡¶æ‡¶™‡ßç‡¶§"; 
            }
        }

        document.getElementById('statusMsg').innerText = msg;
        if (diff > 0) {
            var hr = Math.floor(diff / 3600);
            var mn = Math.floor((diff % 3600) / 60);
            var sc = diff % 60;
            document.getElementById('timer').innerText = toBangla(padZero(hr) + ":" + padZero(mn) + ":" + padZero(sc));
        } else { 
            document.getElementById('timer').innerText = toBangla("‡ß¶‡ß¶:‡ß¶‡ß¶:‡ß¶‡ß¶"); 
        }
    }

    setInterval(update, 1000); 
    update();
</script>
</body>
</html>